<!DOCTYPE html>
<html>
<head>
<title>E-Commerce Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}

body{
  background:#f3f4f6;
}

header{
  background:#111827;
  color:white;
  padding:15px 30px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

header h2{color:#22c55e;}

header input{
  padding:8px;
  border-radius:6px;
  border:none;
}

header button{
  background:#22c55e;
  border:none;
  padding:8px 12px;
  border-radius:6px;
  cursor:pointer;
  color:white;
}

.container{
  padding:20px 40px;
}

.filters{
  margin-bottom:20px;
}

select{
  padding:8px;
  border-radius:6px;
}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.card{
  background:white;
  padding:15px;
  border-radius:10px;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
  text-align:center;
  transition:0.3s;
}

.card:hover{
  transform:translateY(-5px);
}

.card img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:8px;
}

.card h4{margin:10px 0;}

.card button{
  margin-top:10px;
  padding:8px 12px;
  border:none;
  border-radius:6px;
  background:#111827;
  color:white;
  cursor:pointer;
}

/* Cart Sidebar */
.cart{
  position:fixed;
  right:0;
  top:0;
  width:320px;
  height:100%;
  background:#1f2937;
  color:white;
  padding:20px;
  overflow:auto;
  transform:translateX(100%);
  transition:0.3s;
}

.cart.active{
  transform:translateX(0);
}

.cart h3{
  margin-bottom:15px;
}

.cart-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
}

.cart-item button{
  background:red;
  border:none;
  color:white;
  padding:3px 6px;
  border-radius:4px;
  cursor:pointer;
}

.total{
  margin-top:15px;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
  <h2>MyShop</h2>
  <input type="text" id="search" placeholder="Search products">
  <button onclick="toggleCart()">Cart (<span id="cartCount">0</span>)</button>
</header>

<div class="container">

<div class="filters">
  <select id="categoryFilter" onchange="filterProducts()">
    <option value="all">All Categories</option>
    <option value="electronics">Electronics</option>
    <option value="clothing">Clothing</option>
    <option value="shoes">Shoes</option>
  </select>
</div>

<div class="products" id="productList"></div>

</div>

<!-- Cart Sidebar -->
<div class="cart" id="cart">
  <h3>Your Cart</h3>
  <div id="cartItems"></div>
  <div class="total">Total: ₹<span id="cartTotal">0</span></div>
</div>

<script>

const products = [
{id:1,name:"Headphones",price:1500,category:"electronics",img:"https://picsum.photos/300?1"},
{id:2,name:"T-Shirt",price:800,category:"clothing",img:"https://picsum.photos/300?2"},
{id:3,name:"Sneakers",price:2500,category:"shoes",img:"https://picsum.photos/300?3"},
{id:4,name:"Smart Watch",price:3500,category:"electronics",img:"https://picsum.photos/300?4"},
{id:5,name:"Jacket",price:2000,category:"clothing",img:"https://picsum.photos/300?5"},
{id:6,name:"Running Shoes",price:3000,category:"shoes",img:"https://picsum.photos/300?6"}
];

let cart = JSON.parse(localStorage.getItem("cart")) || [];

const productList = document.getElementById("productList");

function displayProducts(list){
  productList.innerHTML="";
  list.forEach(p=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <img src="${p.img}">
      <h4>${p.name}</h4>
      <p>₹${p.price}</p>
      <button onclick="addToCart(${p.id})">Add to Cart</button>
    `;
    productList.appendChild(div);
  });
}

function filterProducts(){
  const category=document.getElementById("categoryFilter").value;
  const search=document.getElementById("search").value.toLowerCase();

  const filtered=products.filter(p=>{
    const matchCategory = category==="all" || p.category===category;
    const matchSearch = p.name.toLowerCase().includes(search);
    return matchCategory && matchSearch;
  });

  displayProducts(filtered);
}

document.getElementById("search").addEventListener("input",filterProducts);

function addToCart(id){
  const product=products.find(p=>p.id===id);
  const existing=cart.find(item=>item.id===id);

  if(existing){
    existing.qty++;
  }else{
    cart.push({...product,qty:1});
  }

  updateCart();
}

function updateCart(){
  localStorage.setItem("cart",JSON.stringify(cart));
  document.getElementById("cartCount").innerText=
    cart.reduce((sum,item)=>sum+item.qty,0);

  const cartItems=document.getElementById("cartItems");
  cartItems.innerHTML="";
  let total=0;

  cart.forEach(item=>{
    total+=item.price*item.qty;

    const div=document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`
      <span>${item.name} x${item.qty}</span>
      <span>₹${item.price*item.qty}
      <button onclick="removeItem(${item.id})">X</button></span>
    `;
    cartItems.appendChild(div);
  });

  document.getElementById("cartTotal").innerText=total;
}

function removeItem(id){
  cart=cart.filter(item=>item.id!==id);
  updateCart();
}

function toggleCart(){
  document.getElementById("cart").classList.toggle("active");
}

displayProducts(products);
updateCart();

</script>

</body>
</html>
